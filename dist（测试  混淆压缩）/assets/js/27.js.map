{"version":3,"file":"assets/js/27.js","sources":["webpack:///dialog.vue","webpack:///./src/components/page/dragAndDrop/dialog.vue","webpack:///./src/components/page/dragAndDrop/dialog.vue?a7d0","webpack:///./src/components/page/dragAndDrop/dialog.vue?f7c2","webpack:///./src/components/page/dragAndDrop/dialog.vue?fe8c","webpack:///./src/components/page/dragAndDrop/dialog.vue?66a3","webpack:///./src/components/page/dragAndDrop/dialog.vue?3950","webpack:///./src/components/page/dragAndDrop/dialog.vue?2f31"],"sourcesContent":["<template>\r\n  <div class=\"dialog\" id=\"dialog\">\r\n    <div class=\"container\">\r\n      <p>通过指令 v-dialogDrag 使 Dialog 对话框具有可拖拽的功能。</p>\r\n      <br />\r\n      <el-button type=\"primary\" @click=\"visible = true;\">点我弹框</el-button>\r\n    </div>\r\n    <el-dialog v-dialogDrag title=\"拖拽弹框\" center :visible.sync=\"visible\" width=\"30%\">\r\n      我是一个可以拖拽的对话框！\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"visible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"visible = false\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- <div id=\"wrap\"> -->\r\n    <div id=\"box\">拖拽DIV</div>\r\n    <div id=\"box2\">拖拽DIV2</div>\r\n    <div id=\"box3\">拖拽DIV3</div>\r\n    <!-- </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      visible: false\r\n    }\r\n  },\r\n  mounted () {\r\n    var box = document.getElementById('box')\r\n    var box2 = document.getElementById('box2')\r\n    var box3 = document.getElementById('box3')\r\n    this.moves(box, 'blue')\r\n    this.moves(box2, 'yellow')\r\n    this.moves(box3, 'green')\r\n  },\r\n  methods: {\r\n    moves (boxs, colors) {\r\n      var wrap = document.getElementById('dialog')\r\n      var box = boxs\r\n      box.onmousedown = function (event) {\r\n        // 设置样式\r\n        box.style.cursor = 'move'\r\n        box.style.backgroundColor = 'red'\r\n        // 鼠标点击的坐标\r\n        var evt = event || window.event\r\n        // if (evt.preventDefault) {\r\n        //     evt.preventDefault();\r\n        // } else {\r\n        //     evt.returnValue = false;\r\n        // }\r\n        var mouseX = evt.clientX // 鼠标点击点距离浏览器可视窗口左的坐标\r\n        var mouseY = evt.clientY // 鼠标点击点距离浏览器可视窗口上的坐标\r\n        console.log(mouseX, mouseY)\r\n\r\n        var disX = mouseX - box.offsetLeft // 减 网页被卷去的左\r\n        var disY = mouseY - box.offsetTop // 减 网页被卷去的高\r\n        console.log(box.offsetLeft, box.offsetTop)\r\n\r\n        document.onmousemove = function (event) {\r\n          var evt = event || window.event\r\n          // if (evt.preventDefault) {\r\n          //     evt.preventDefault();\r\n          // } else {\r\n          //     evt.returnValue = false;\r\n          // }\r\n\r\n          var endX = evt.clientX\r\n          var endY = evt.clientY\r\n\r\n          // 计算移动后的左偏移量和顶部的偏移量\r\n          var posX = endX - disX\r\n          var posY = endY - disY\r\n\r\n          if (posX <= 0) {\r\n            posX = 0\r\n          }\r\n          if (posY <= 0) {\r\n            posY = 0\r\n          }\r\n          console.log(wrap.clientWidth, 'wrap.clientWidth')\r\n          if (posX >= wrap.clientWidth - box.offsetWidth) {\r\n            posX = wrap.clientWidth - box.offsetWidth\r\n          }\r\n          if (posY >= wrap.clientHeight - box.offsetHeight) {\r\n            posY = wrap.clientHeight - box.offsetHeight\r\n          }\r\n          box.style.left = posX + 'px'\r\n          box.style.top = posY + 'px'\r\n        }\r\n      }\r\n      box.onmouseup = function () {\r\n        // 清除鼠标绑定移动事件\r\n        document.onmousemove = null\r\n        box.style.cursor = 'default'\r\n        box.style.backgroundColor = colors\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.dialog {\r\n  position: relative;\r\n  border: 1px solid red;\r\n  #wrap {\r\n    position: relative;\r\n    width: 500px;\r\n    height: 500px;\r\n    border: 1px solid red;\r\n    margin: 10px;\r\n  }\r\n  #box,\r\n  #box2,\r\n  #box3 {\r\n    position: absolute;\r\n    left: 0px;\r\n    top: 0px;\r\n    width: 100px;\r\n    height: 100px;\r\n    color: #fff;\r\n    background-color: blue;\r\n    font-size: 14px;\r\n    line-height: 100px;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n  }\r\n  #box2 {\r\n    left: 150px;\r\n    top: 150px;\r\n    color: #000;\r\n    background: yellow;\r\n  }\r\n  #box3 {\r\n    left: 100px;\r\n    top: 150px;\r\n    background: green;\r\n  }\r\n}\r\n</style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"dialog\", attrs: { id: \"dialog\" } },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"container\" },\n        [\n          _c(\"p\", [\n            _vm._v(\"通过指令 v-dialogDrag 使 Dialog 对话框具有可拖拽的功能。\"),\n          ]),\n          _c(\"br\"),\n          _c(\n            \"el-button\",\n            {\n              attrs: { type: \"primary\" },\n              on: {\n                click: function ($event) {\n                  _vm.visible = true\n                },\n              },\n            },\n            [_vm._v(\"点我弹框\")]\n          ),\n        ],\n        1\n      ),\n      _c(\n        \"el-dialog\",\n        {\n          directives: [{ name: \"dialogDrag\", rawName: \"v-dialogDrag\" }],\n          attrs: {\n            title: \"拖拽弹框\",\n            center: \"\",\n            visible: _vm.visible,\n            width: \"30%\",\n          },\n          on: {\n            \"update:visible\": function ($event) {\n              _vm.visible = $event\n            },\n          },\n        },\n        [\n          _vm._v(\" 我是一个可以拖拽的对话框！ \"),\n          _c(\n            \"span\",\n            {\n              staticClass: \"dialog-footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\",\n            },\n            [\n              _c(\n                \"el-button\",\n                {\n                  on: {\n                    click: function ($event) {\n                      _vm.visible = false\n                    },\n                  },\n                },\n                [_vm._v(\"取 消\")]\n              ),\n              _c(\n                \"el-button\",\n                {\n                  attrs: { type: \"primary\" },\n                  on: {\n                    click: function ($event) {\n                      _vm.visible = false\n                    },\n                  },\n                },\n                [_vm._v(\"确 定\")]\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n      _c(\"div\", { attrs: { id: \"box\" } }, [_vm._v(\"拖拽DIV\")]),\n      _c(\"div\", { attrs: { id: \"box2\" } }, [_vm._v(\"拖拽DIV2\")]),\n      _c(\"div\", { attrs: { id: \"box3\" } }, [_vm._v(\"拖拽DIV3\")]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".dialog {\\n  position: relative;\\n  border: 1px solid red;\\n}\\n.dialog #wrap {\\n  position: relative;\\n  width: 500px;\\n  height: 500px;\\n  border: 1px solid red;\\n  margin: 10px;\\n}\\n.dialog #box,\\n.dialog #box2,\\n.dialog #box3 {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  width: 100px;\\n  height: 100px;\\n  color: #fff;\\n  background-color: blue;\\n  font-size: 14px;\\n  line-height: 100px;\\n  text-align: center;\\n  border-radius: 50%;\\n}\\n.dialog #box2 {\\n  left: 150px;\\n  top: 150px;\\n  color: #000;\\n  background: yellow;\\n}\\n.dialog #box3 {\\n  left: 100px;\\n  top: 150px;\\n  background: green;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog.vue?vue&type=style&index=0&id=6b4bb8f6&lang=less&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"71f75a56\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog.vue?vue&type=style&index=0&id=6b4bb8f6&lang=less&\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog.vue?vue&type=style&index=0&id=6b4bb8f6&lang=less&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./dialog.vue?vue&type=template&id=6b4bb8f6&\"\nimport script from \"./dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dialog.vue?vue&type=style&index=0&id=6b4bb8f6&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\my-project\\\\VUE\\\\vue2-project\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6b4bb8f6')) {\n      api.createRecord('6b4bb8f6', component.options)\n    } else {\n      api.reload('6b4bb8f6', component.options)\n    }\n    module.hot.accept(\"./dialog.vue?vue&type=template&id=6b4bb8f6&\", function () {\n      api.rerender('6b4bb8f6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/page/dragAndDrop/dialog.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog.vue?vue&type=style&index=0&id=6b4bb8f6&lang=less&\"","export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"a9e8da1a-vue-loader-template\\\"}!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog.vue?vue&type=template&id=6b4bb8f6&\""],"mappings":";;;;;;;;;;AAuBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAAA;AAAA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}